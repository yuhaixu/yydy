<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.freesheep.biz.dao.StProductsBOMapper">
  <resultMap id="BaseResultMap" type="com.freesheep.biz.model.StProductsBO">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="products" jdbcType="VARCHAR" property="products" />
    <result column="price" jdbcType="REAL" property="price" />
    <result column="sale" jdbcType="REAL" property="sale" />
    <result column="unit" jdbcType="VARCHAR" property="unit" />
    <result column="origin" jdbcType="VARCHAR" property="origin" />
    <result column="count" jdbcType="INTEGER" property="count" />
    <result column="number" jdbcType="INTEGER" property="number" />
    <result column="is_show" jdbcType="INTEGER" property="isShow" />
    <result column="logistics_goods_code" jdbcType="VARCHAR" property="logisticsGoodsCode" />
    <result column="created" jdbcType="TIMESTAMP" property="created" />
    <result column="modified" jdbcType="TIMESTAMP" property="modified" />


    <result column="image" jdbcType="VARCHAR" property="image" />
    <result column="pay_number" jdbcType="INTEGER" property="payNumber" />


    <result column="product_id" jdbcType="BIGINT" property="productId" />
    <result column="product_code" jdbcType="VARCHAR" property="productCode" />
    <result column="product_qr_code" jdbcType="VARCHAR" property="productQrCode" />

  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.freesheep.biz.model.StProductsBO">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="intro" jdbcType="LONGVARCHAR" property="intro" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, products, price, sale, unit, origin, count, number, is_show, logistics_goods_code, 
    created, modified
  </sql>
  <sql id="Blob_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    intro
  </sql>



  <select id="selectProductInfoById" parameterType="Map" resultMap="ResultMapWithBLOBs">
    SELECT
    pro.id, pro.products,pro.intro, pro.price, pro.sale, pro.unit, pro.origin, pro.count, pro.number, pro.is_show, pro.logistics_goods_code
    FROM st_products pro
    WHERE pro.id=#{pid}
  </select>

  <select id="selectAllProList" parameterType="Map" resultMap="ResultMapWithBLOBs">
    SELECT
    pro.id, pro.products,pro.intro, pro.price, pro.sale, pro.unit, pro.origin, pro.count, pro.number, pro.is_show, pro.logistics_goods_code
    FROM st_products pro
    ORDER BY pro.id
    limit #{offset},#{limit}
  </select>

  <select id="selectAllProList_count" parameterType="Map" resultType="java.lang.Long">
    SELECT
    COUNT(1)
    FROM st_products
  </select>


  <select id="selectProductList" resultMap="ResultMapWithBLOBs">
    select
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from st_products
  </select>


  <select id="selectOrderPro" resultMap="ResultMapWithBLOBs">
    SELECT
    pro.id, cart.number pay_number, pro.price, pro.sale, pro.products, img.image, pro.logistics_goods_code
    FROM st_cart cart
    LEFT JOIN st_products pro ON cart.pr_id = pro.id
    LEFT JOIN st_products_images img on img.pr_id = pro.id
    WHERE cart.order_id = #{oid}
    group by pro.id
  </select>


  <select id="selectProductsForHome" resultMap="ResultMapWithBLOBs">
    select
    pro.id, pro.products, pro.sale, pro.unit, pro.count, pro.number, img.image
    from st_products pro
    left join st_products_images img on img.pr_id = pro.id
    where pro.id in
    <foreach collection="pidList" item="pidList" separator="," open="(" close=")" index="">
      #{pidList}
    </foreach>
    group by pro.id
  </select>




  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="ResultMapWithBLOBs">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from st_products
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from st_products
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.freesheep.biz.model.StProductsBO">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into st_products (id, products, price, 
      sale, unit, origin, count, 
      number, is_show, logistics_goods_code, 
      created, modified, intro
      )
    values (#{id,jdbcType=INTEGER}, #{products,jdbcType=VARCHAR}, #{price,jdbcType=REAL}, 
      #{sale,jdbcType=REAL}, #{unit,jdbcType=VARCHAR}, #{origin,jdbcType=VARCHAR}, #{count,jdbcType=INTEGER}, 
      #{number,jdbcType=INTEGER}, #{isShow,jdbcType=INTEGER}, #{logisticsGoodsCode,jdbcType=VARCHAR}, 
      #{created,jdbcType=TIMESTAMP}, #{modified,jdbcType=TIMESTAMP}, #{intro,jdbcType=LONGVARCHAR}
      )
  </insert>
  <insert id="insertSelective" keyProperty="id" useGeneratedKeys="true" parameterType="com.freesheep.biz.model.StProductsBO">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into st_products
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="products != null">
        products,
      </if>
      <if test="price != null">
        price,
      </if>
      <if test="sale != null">
        sale,
      </if>
      <if test="unit != null">
        unit,
      </if>
      <if test="origin != null">
        origin,
      </if>
      <if test="count != null">
        count,
      </if>
      <if test="number != null">
        number,
      </if>
      <if test="isShow != null">
        is_show,
      </if>
      <if test="logisticsGoodsCode != null">
        logistics_goods_code,
      </if>
      <if test="created != null">
        created,
      </if>
      <if test="modified != null">
        modified,
      </if>
      <if test="intro != null">
        intro,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="products != null">
        #{products,jdbcType=VARCHAR},
      </if>
      <if test="price != null">
        #{price,jdbcType=REAL},
      </if>
      <if test="sale != null">
        #{sale,jdbcType=REAL},
      </if>
      <if test="unit != null">
        #{unit,jdbcType=VARCHAR},
      </if>
      <if test="origin != null">
        #{origin,jdbcType=VARCHAR},
      </if>
      <if test="count != null">
        #{count,jdbcType=INTEGER},
      </if>
      <if test="number != null">
        #{number,jdbcType=INTEGER},
      </if>
      <if test="isShow != null">
        #{isShow,jdbcType=INTEGER},
      </if>
      <if test="logisticsGoodsCode != null">
        #{logisticsGoodsCode,jdbcType=VARCHAR},
      </if>
      <if test="created != null">
        #{created,jdbcType=TIMESTAMP},
      </if>
      <if test="modified != null">
        #{modified,jdbcType=TIMESTAMP},
      </if>
      <if test="intro != null">
        #{intro,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.freesheep.biz.model.StProductsBO">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update st_products
    <set>
      <if test="products != null">
        products = #{products,jdbcType=VARCHAR},
      </if>
      <if test="price != null">
        price = #{price,jdbcType=REAL},
      </if>
      <if test="sale != null">
        sale = #{sale,jdbcType=REAL},
      </if>
      <if test="unit != null">
        unit = #{unit,jdbcType=VARCHAR},
      </if>
      <if test="origin != null">
        origin = #{origin,jdbcType=VARCHAR},
      </if>
      <if test="count != null">
        count = #{count,jdbcType=INTEGER},
      </if>
      <if test="number != null">
        number = #{number,jdbcType=INTEGER},
      </if>
      <if test="isShow != null">
        is_show = #{isShow,jdbcType=INTEGER},
      </if>
      <if test="logisticsGoodsCode != null">
        logistics_goods_code = #{logisticsGoodsCode,jdbcType=VARCHAR},
      </if>
      <if test="created != null">
        created = #{created,jdbcType=TIMESTAMP},
      </if>
      <if test="modified != null">
        modified = #{modified,jdbcType=TIMESTAMP},
      </if>
      <if test="intro != null">
        intro = #{intro,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.freesheep.biz.model.StProductsBO">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update st_products
    set products = #{products,jdbcType=VARCHAR},
      price = #{price,jdbcType=REAL},
      sale = #{sale,jdbcType=REAL},
      unit = #{unit,jdbcType=VARCHAR},
      origin = #{origin,jdbcType=VARCHAR},
      count = #{count,jdbcType=INTEGER},
      number = #{number,jdbcType=INTEGER},
      is_show = #{isShow,jdbcType=INTEGER},
      logistics_goods_code = #{logisticsGoodsCode,jdbcType=VARCHAR},
      created = #{created,jdbcType=TIMESTAMP},
      modified = #{modified,jdbcType=TIMESTAMP},
      intro = #{intro,jdbcType=LONGVARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.freesheep.biz.model.StProductsBO">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update st_products
    set products = #{products,jdbcType=VARCHAR},
      price = #{price,jdbcType=REAL},
      sale = #{sale,jdbcType=REAL},
      unit = #{unit,jdbcType=VARCHAR},
      origin = #{origin,jdbcType=VARCHAR},
      count = #{count,jdbcType=INTEGER},
      number = #{number,jdbcType=INTEGER},
      is_show = #{isShow,jdbcType=INTEGER},
      logistics_goods_code = #{logisticsGoodsCode,jdbcType=VARCHAR},
      created = #{created,jdbcType=TIMESTAMP},
      modified = #{modified,jdbcType=TIMESTAMP}
    where id = #{id,jdbcType=INTEGER}
  </update>
</mapper>